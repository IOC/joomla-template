!function(a){a(document).ready(function(a){var e,t=a("ol.carousel-indicators"),n="",s=!1,o=a("#ioc-filter-data"),i=a(".ioc-front-page .avisos"),l=0,c=0,d=!1,r=!1,p=a(".ioc-menu"),u=a(".filter-dropdown"),h="#"+window.location.hash.replace(/[^a-zA-Z0-9_-]*/g,""),f=a(".panel-faqs"),T=a(window).width(),E={HTML:{PREVIOUS:'<div class="button-tab-nav prev">Pas anterior</div>',NEXT:'<div class="button-tab-nav next">Pas seg√ºent</div>',BUTTONDIV:'<div class="button-div panel-body"></div>'},SELECTORS:{BUTTONDIV:".button-div",PANELGROUP:".study-tabs .panel-group.responsive",PANELCOLLAPSE:".study-tabs .panel-collapse",PANELNAVBUTTON:".study-tabs .panel-group .button-tab-nav",PANELTITLE:".panel-title a",PANELS:".study-tabs .panel-group .panel-default",PANELACT:'.study-tabs .panel-group .panel-title a[aria-expanded="true"]',TABCONTENT:".study-tabs .tab-content",TABNAVBUTTON:".tab-content .button-tab-nav",STUDYTABS:".study-tabs .nav-tabs li",STUDYTABACT:".study-tabs .nav-tabs li.active"}};if(a('[data-toggle="tooltip"]').tooltip(),o&&o.removeClass("hidden"),t&&t.removeClass("hidden"),p&&p.css("height","0"),u){var g=function(e){e.toggleClass("in"),e.hasClass("in")?a(".filter-elements").attr("aria-hidden",!1):a(".filter-elements").attr("aria-hidden",!0)};g(u),a(document).on("click",".filter-text",function(a){g(u)})}var m=function(e){e||(e=a(window).width()),e>990?(f.find(".panel-collapse").addClass("in").css("height","auto").attr("aria-expanded","true"),f.find(".panel-heading a").removeClass("collapsed"),f.find(".panel-heading a").attr("data-toggle","").attr("aria-expanded","true")):(f.find(".panel-collapse").removeClass("in").css("height","0px").attr("aria-expanded","false"),f.find(".panel-heading a").addClass("collapsed"),f.find(".panel-heading a").attr("data-toggle","collapse").attr("aria-expanded","false"))};f&&m(!1);var v=function(e,t){e=void 0!==e?e:"click",t=void 0===t||t;var n,s=a(E.SELECTORS.STUDYTABS).length,o=a(E.SELECTORS.STUDYTABACT).index();"click"==e&&t?(a(E.SELECTORS.TABNAVBUTTON+".next").show(),a(E.SELECTORS.TABNAVBUTTON+".prev").show(),o==s-1?a(E.SELECTORS.TABNAVBUTTON+".next").hide():0==o&&a(E.SELECTORS.TABNAVBUTTON+".prev").hide()):t?e?o+1<s&&(n=a(E.SELECTORS.STUDYTABS).eq(o+1).find("a")).click():o-1>=0&&(n=a(E.SELECTORS.STUDYTABS).eq(o-1).find("a")).click():(s=a(E.SELECTORS.PANELS).length,o=a(E.SELECTORS.PANELACT).closest(E.SELECTORS.PANELS).index(),e?o+1<s&&(n=a(E.SELECTORS.PANELS).eq(o).find(E.SELECTORS.PANELTITLE),n=a(E.SELECTORS.PANELS).eq(o+1).find(E.SELECTORS.PANELTITLE),S(n.attr("href"))):o-1>=0&&(n=a(E.SELECTORS.PANELS).eq(o).find(E.SELECTORS.PANELTITLE),n=a(E.SELECTORS.PANELS).eq(o-1).find(E.SELECTORS.PANELTITLE),S(n.attr("href"))))};!function(){if(a(E.SELECTORS.TABCONTENT)&&0==a(E.SELECTORS.TABNAVBUTTON).length){a(E.SELECTORS.TABCONTENT).append(E.HTML.PREVIOUS,E.HTML.NEXT);var e=a(E.SELECTORS.STUDYTABACT).index();0==e&&a(E.SELECTORS.TABNAVBUTTON+".prev").hide(),e==a(E.SELECTORS.STUDYTABS).length-1&&a(E.SELECTORS.TABNAVBUTTON+".next").hide()}}(),a(E.SELECTORS.PANELGROUP).ready(function(e){var t=a(E.SELECTORS.PANELCOLLAPSE),n=t.length;n>1&&a.each(t,function(e,t){a(t).append(E.HTML.BUTTONDIV),e>0&&e<n-1?a(t).find(E.SELECTORS.BUTTONDIV).append(E.HTML.PREVIOUS,E.HTML.NEXT):0==e?a(t).find(E.SELECTORS.BUTTONDIV).append(E.HTML.NEXT):a(t).find(E.SELECTORS.BUTTONDIV).append(E.HTML.PREVIOUS)})});!function(){var e,t=a(".filter-elements ul li"),n=a('<select class="filter-select">');t&&!a(".filter-select").length&&(a.each(t,function(t,s){(e=a("<option>").attr("value",a(s).data("meta-keyword")||"all").text(a(s).find("a").data("original-title"))).appendTo(a(n))}),a(n).appendTo(t.closest(".filter-dropdown")))}(),a(document).on("change",".filter-select",function(e){var t=a(this).val();if("all"!=t){var n=a(".substudies .nav.navbar-nav").addClass("filtering"),s=n.find("li[data-meta-keyword='"+t+"']");n.find("li").not(s).hide(800,function(){s.show(800)})}else a(".substudies .nav.navbar-nav").removeClass("filtering").find("li").removeClass("third").show(800)}),a(document).on("click",E.SELECTORS.TABNAVBUTTON,function(e){v(a(this).hasClass("next"))}),a(document).on("click",E.SELECTORS.PANELNAVBUTTON,function(e){v(a(this).hasClass("next"),!1)}),a(document).on("shown.bs.tab",E.SELECTORS.STUDYTABS+" a",function(a){v("click")}),a(document).on("shown.bs.modal",".modal",function(e){a(this).find("[autofocus]").focus()}),a(document).on("shown.bs.collapse",".form-search",function(e){"search"==e.currentTarget.id&&a(this).find('[type="search"]').focus()}),a(document).on("show.bs.collapse",".ioc-menu",function(e){a("header").addClass("bck-displayed")}),a(document).on("hidden.bs.collapse",".ioc-menu",function(e){a("header").removeClass("bck-displayed")}),a(document).on("shown.bs.collapse",".ioc-menu",function(e){a(".social, .ioc-languages").addClass("bck-displayed")}),a(document).on("hide.bs.collapse",".ioc-menu",function(e){a(".social, .ioc-languages").removeClass("bck-displayed")}),a(document).on("click",".custom-icon.delete",function(e){var t=a(this).siblings("input");t.val(""),t.focus()}),a(document).on("show.bs.collapse",".form-search",function(e){a("header").addClass("big"),a(".form-search .btn-search").addClass("big")}),a(document).on("hide.bs.collapse",".form-search",function(e){a("header").removeClass("big")}),a(document).on("hidden.bs.collapse",".form-search",function(e){a(".form-search .btn-search").removeClass("big")}),a(window).resize(function(){if(a(window).width()!=T){T=a(window).width();var e=a("header");f&&m(a(this).width()),a(this).width()>990&&e.hasClass("bck-displayed")?(e.removeClass("bck-displayed"),a(".social, .ioc-languages").removeClass("bck-displayed")):p.hasClass("in")&&a(this).width()<991&&!e.hasClass("bck-displayed")&&(e.addClass("bck-displayed"),a(".social, .ioc-languages").addClass("bck-displayed"))}}),a.ajax({url:"/campus/local/loggedinas.php",success:function(e){e&&(e.length>20&&(e=e.substr(0,20)+"..."),a(".login-text").text(e),a(".login-campus").attr("data-target","").on("click",function(a){a.stopPropagation(),a.preventDefault(),window.location="/campus/my"}),a(".login-clone-campus").attr("data-target","").on("click",function(a){a.stopPropagation(),a.preventDefault(),window.location="/campus/my"}),a(".login-campus-mobile button").attr("title",e).attr("data-target","").on("click",function(a){a.stopPropagation(),a.preventDefault(),window.location="/campus/my"}))}}),a(document).on("show.bs.collapse","#collapse-tabs .panel-collapse",function(e){a(e.currentTarget).closest(".panel").siblings().find(".panel-collapse").collapse("hide")}),a(document).on("show.bs.collapse","#footer-collapse .panel-collapse",function(e){a("#footer-collapse").find(".panel-collapse").not(e.currentTarget).collapse("hide")}),a(document).on("click","a",function(e){a(".back-to-top").attr("href","#")}),a(document).on("click",".study-buttons a[href^=#], .study-tabs .tab-content a[href^=#], .subpage-group-buttons a[href^=#], .panel-body a[href^=#], .faqsindex a[href^=#]",function(e){e.preventDefault(),n="#"+a(this).prop("hash").replace(/[^a-zA-Z0-9_-]*/g,""),s=a(this).closest(".panel-group, .study-tabs").hasClass("panel-group"),S(n),a(this).closest(".study-tabs").length&&a(".back-to-top").attr("href",a("#tabs > li.active a").attr("href"))}),a(document).on("click","#collapse-tabs .panel-title a[href^=#], #panel-sections .panel-title a[href^=#], .study-tabs .nav-tabs li a[href^=#], .panel-modal-resources a[href^=#], .faqsindex a[href^=#]",function(e){e.preventDefault(),s=a(this).closest(".panel-group, .study-tabs").hasClass("panel-group"),n=a(this).prop("hash"),history.pushState&&history.pushState({},"",window.location.href.replace(window.location.hash,"")+n)}),a(document).on("shown.bs.collapse","#collapse-other-info, #collapse-tabs, #panel-sections, .panel-modal-resources, .faqsindex",function(e){var t=a(n).position(),o=0;t&&(o=s?105:170,a("html, body").animate({scrollTop:t.top-o},800)),n="",s=!1}),a(document).on("click","#ioc-filter-data li",function(e){e.preventDefault();var t=a(this).data("meta-keyword");if(a(this).siblings().removeClass("ioc-keyword-selected"),a(this).toggleClass("ioc-keyword-selected"),a(this).hasClass("ioc-keyword-selected")&&t){var n=a(".substudies .nav.navbar-nav").addClass("filtering"),s=n.find("li[data-meta-keyword='"+t+"']");n.find("li").removeClass("third").not(s).hide(800,function(){s.show(800)}),a.each(n,function(e,n){(s=a(n).find("li[data-meta-keyword='"+t+"']")).size()>2&&a.each(s,function(e,t){(e+1)%3==0&&a(t).addClass("third")})})}else a(".substudies .nav.navbar-nav").removeClass("filtering").find("li").removeClass("third").show(800)});var S=function(e){if(a(e).length){if(window.location.hash=e,"#matricula"==e){t=a(e).position();a("html, body").animate({scrollTop:t.top},800)}a(e).hasClass("tab-pane")&&!a(e).hasClass("active")?a('.nav-tabs li a[href="'+e+'"]').trigger("click"):a(e).hasClass("panel-collapse")&&!a(e).hasClass("in")&&a('.panel-group .panel-heading a[href="'+e+'"]').trigger("click");var t=a(e).position(),n=s?105:170;a("html, body").animate({scrollTop:t.top-n},800)}};a(h).length&&S(h),a(".avisos")&&a(".avisos").addClass("display");var b=function(){var t=c+1>l-1?0:c+1,n=c-1<0?l-1:c-1;0==c?(i.find(".prev").hide(),a(".login-campus-body").addClass("first")):(l>2&&i.find(".prev").show(),a(".login-campus-body").removeClass("first")),i.find(".prev div").remove(),i.find(".next div").remove(),a(e[n]).appendTo(i.find(".prev")),a(e[t]).appendTo(i.find(".next"))};i&&(e=i.find(".next div").detach(),l=e.length,b()),a("#myCarousel").on("slid.bs.carousel",function(){d?(c=c-1<0?l-1:c-1,d=!1):r&&(c=c+1>l-1?0:c+1,r=!1),b()}),a(document).on("click",".carousel-control.left, .avisos .prev",function(a){d=!0}),a(document).on("click",".carousel-control.right, .avisos .next",function(a){r=!0}),a(document).on("click",".carousel-indicators li",function(e){c=parseInt(a(this).data("slide-to"),10)}),a(document).on("click","#header .navbar-toggle",function(e){a(this).toggleClass("open")}),a(document).on("click",".modal-dialog",function(e){e.offsetY<0&&a(this).closest(".modal").modal("hide")}),function(a,e,t,n,s,o,i){a.GoogleAnalyticsObject=s,a[s]=a[s]||function(){(a[s].q=a[s].q||[]).push(arguments)},a[s].l=1*new Date,o=e.createElement(t),i=e.getElementsByTagName(t)[0],o.async=1,o.src="https://www.google-analytics.com/analytics.js",i.parentNode.insertBefore(o,i)}(window,document,"script",0,"ga"),ga("create","UA-36486089-1","auto"),ga("send","pageview")})}(jQuery);